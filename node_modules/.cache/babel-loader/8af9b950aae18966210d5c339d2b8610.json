{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\rakes\\\\OneDrive\\\\Desktop\\\\git\\\\react-with-wordpress\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\rakes\\\\OneDrive\\\\Desktop\\\\git\\\\react-with-wordpress\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\rakes\\\\OneDrive\\\\Desktop\\\\git\\\\react-with-wordpress\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\rakes\\\\OneDrive\\\\Desktop\\\\git\\\\react-with-wordpress\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\rakes\\\\OneDrive\\\\Desktop\\\\git\\\\react-with-wordpress\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from\"@reach/router\";import renderHTML from'react-render-html';import Moment from'react-moment';import Navbar from'./Navbar';import axios from'axios';import Loader from'../loding.gif';var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.state={loading:false,posts:[],error:''};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var wordPressSiteUrl='https://www.futuremedicineindia.com/';this.setState({loading:true},function(){axios.get(\"\".concat(wordPressSiteUrl,\"/wp-json/wp/v2/posts?categories=40&_embed\")).then(function(res){// console.log(res.data);\n_this2.setState({loading:false,posts:res.data});}).catch(function(error){return _this2.setState({loading:false,error:error.response.data.message});});});}},{key:\"render\",value:function render(){// console.log('state', this.state);\nvar _this$state=this.state,posts=_this$state.posts,loading=_this$state.loading,error=_this$state.error;// const posts = this.state.posts;\nreturn React.createElement(\"div\",{className:\"\"},React.createElement(Navbar,null),error&&React.createElement(\"div\",{className:\"error-allert mt-3\"},error),posts.length?React.createElement(\"div\",{className:\"mt-5 post-container container\"},React.createElement(\"div\",{className:\"row\"},posts.map(function(post){return React.createElement(\"div\",{key:post.id,className:\"col col-12 col-md-6 col-lg-4\"},React.createElement(\"div\",{className:\"card border-dark mb-3\"},React.createElement(\"div\",{className:\"card-header\"},React.createElement(Link,{to:\"/post/\".concat(post.id)},post.title.rendered)),React.createElement(\"div\",{className:\"card-body\"},React.createElement(\"div\",{className:\"imgbox pb-3\"},React.createElement(\"img\",{className:\"w-100\",src:post._embedded['wp:featuredmedia']['0'].source_url})),React.createElement(\"div\",{className:\"card-text post-content\"},renderHTML(post.excerpt.rendered)),React.createElement(\"div\",{className:\"card-footer\"},React.createElement(Moment,{fromNow:true},post.date),React.createElement(Link,{to:\"/post/\".concat(post.id),className:\"btn btn-secondary float-right\"},\"Read More..\")))));}))):'',React.createElement(\"div\",{className:\"container\"},loading&&React.createElement(\"img\",{className:\"loader\",src:Loader})));}}]);return Home;}(Component);export default Home;","map":{"version":3,"sources":["C:/Users/rakes/OneDrive/Desktop/git/react-with-wordpress/src/components/Home.js"],"names":["React","Component","Link","renderHTML","Moment","Navbar","axios","Loader","Home","props","state","loading","posts","error","wordPressSiteUrl","setState","get","then","res","data","catch","response","message","length","map","post","id","title","rendered","_embedded","source_url","excerpt","date"],"mappings":"kvBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,IAAR,KAAmB,eAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,mBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,C,GAEMC,CAAAA,I,8DAEL,cAAYC,KAAZ,CAAkB,sCACjB,sEAAMA,KAAN,GAEA,MAAKC,KAAL,CAAa,CACZC,OAAO,CAAC,KADI,CAEZC,KAAK,CAAE,EAFK,CAGZC,KAAK,CAAE,EAHK,CAAb,CAHiB,aAQjB,C,8EAEkB,iBAClB,GAAMC,CAAAA,gBAAgB,CAAG,sCAAzB,CACA,KAAKC,QAAL,CAAc,CAACJ,OAAO,CAAC,IAAT,CAAd,CAA8B,UAAK,CAClCL,KAAK,CAACU,GAAN,WAAaF,gBAAb,+CACEG,IADF,CACO,SAAAC,GAAG,CAAG,CACX;AACA,MAAI,CAACH,QAAL,CAAc,CACbJ,OAAO,CAAE,KADI,CAEbC,KAAK,CAAEM,GAAG,CAACC,IAFE,CAAd,EAIA,CAPF,EAQEC,KARF,CAQS,SAAAP,KAAK,QAAI,CAAA,MAAI,CAACE,QAAL,CAAc,CAACJ,OAAO,CAAC,KAAT,CAAeE,KAAK,CAACA,KAAK,CAACQ,QAAN,CAAeF,IAAf,CAAoBG,OAAzC,CAAd,CAAJ,EARd,EASA,CAVD,EAWA,C,uCAEO,CACP;AADO,gBAEyB,KAAKZ,KAF9B,CAEAE,KAFA,aAEAA,KAFA,CAEOD,OAFP,aAEOA,OAFP,CAEgBE,KAFhB,aAEgBA,KAFhB,CAGP;AAEA,MACC,4BAAK,SAAS,CAAC,EAAf,EACC,oBAAC,MAAD,MADD,CAEEA,KAAK,EAAI,2BAAK,SAAS,CAAC,mBAAf,EAAoCA,KAApC,CAFX,CAIED,KAAK,CAACW,MAAN,CACA,2BAAK,SAAS,CAAC,+BAAf,EACC,2BAAK,SAAS,CAAC,KAAf,EACCX,KAAK,CAACY,GAAN,CAAU,SAAAC,IAAI,QACd,4BAAK,GAAG,CAAEA,IAAI,CAACC,EAAf,CAAmB,SAAS,CAAC,8BAA7B,EACC,2BAAK,SAAS,CAAC,uBAAf,EACC,2BAAK,SAAS,CAAC,aAAf,EACC,oBAAC,IAAD,EAAM,EAAE,iBAAWD,IAAI,CAACC,EAAhB,CAAR,EACED,IAAI,CAACE,KAAL,CAAWC,QADb,CADD,CADD,CAMC,2BAAK,SAAS,CAAC,WAAf,EACC,2BAAK,SAAS,CAAC,aAAf,EACC,2BAAK,SAAS,CAAC,OAAf,CAAuB,GAAG,CAAEH,IAAI,CAACI,SAAL,CAAe,kBAAf,EAAmC,GAAnC,EAAwCC,UAApE,EADD,CADD,CAIC,2BAAK,SAAS,CAAC,wBAAf,EACE3B,UAAU,CAACsB,IAAI,CAACM,OAAL,CAAaH,QAAd,CADZ,CAJD,CAOC,2BAAK,SAAS,CAAC,aAAf,EACC,oBAAC,MAAD,EAAQ,OAAO,KAAf,EAAiBH,IAAI,CAACO,IAAtB,CADD,CAEC,oBAAC,IAAD,EAAM,EAAE,iBAAWP,IAAI,CAACC,EAAhB,CAAR,CAA8B,SAAS,CAAC,+BAAxC,gBAFD,CAPD,CAND,CADD,CADc,EAAd,CADD,CADD,CADA,CA4BG,EAhCL,CAkCC,2BAAK,SAAS,CAAC,WAAf,EACEf,OAAO,EAAI,2BAAK,SAAS,CAAC,QAAf,CAAwB,GAAG,CAAEJ,MAA7B,EADb,CAlCD,CADD,CAwCA,C,kBAxEiBN,S,EA4EnB,cAAeO,CAAAA,IAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from \"@reach/router\";\r\nimport renderHTML from 'react-render-html';\r\nimport Moment from 'react-moment';\r\nimport Navbar from './Navbar';\r\nimport axios from 'axios'; \r\nimport Loader from '../loding.gif';\r\n\r\nclass Home extends Component {\r\n\t\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tloading:false,\r\n\t\t\tposts: [],\r\n\t\t\terror: ''\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tconst wordPressSiteUrl = 'https://www.futuremedicineindia.com/';\r\n\t\tthis.setState({loading:true}, () =>{\r\n\t\t\taxios.get(`${wordPressSiteUrl}/wp-json/wp/v2/posts?categories=40&_embed`)\r\n\t\t\t\t.then(res =>{\r\n\t\t\t\t\t// console.log(res.data);\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\tposts: res.data \r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch( error => this.setState({loading:false,error:error.response.data.message}))\r\n\t\t})\r\n\t}\r\n\t\r\n\trender(){\r\n\t\t// console.log('state', this.state);\r\n\t\tconst {posts, loading, error} = this.state;\r\n\t\t// const posts = this.state.posts;\r\n\r\n\t\treturn(\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<Navbar/>\r\n\t\t\t\t{error && <div className=\"error-allert mt-3\">{error}</div>}\r\n\t\t\t\t\r\n\t\t\t\t{posts.length ? (\r\n\t\t\t\t\t<div className=\"mt-5 post-container container\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t{posts.map(post =>(\r\n\t\t\t\t\t\t\t<div key={post.id} className=\"col col-12 col-md-6 col-lg-4\">\r\n\t\t\t\t\t\t\t\t<div className=\"card border-dark mb-3\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/post/${post.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t{post.title.rendered}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"imgbox pb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img className=\"w-100\" src={post._embedded['wp:featuredmedia']['0'].source_url}/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-text post-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t{renderHTML(post.excerpt.rendered)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-footer\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Moment fromNow>{post.date}</Moment>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/post/${post.id}`} className=\"btn btn-secondary float-right\">Read More..</Link>\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t) : '' }\r\n\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{loading && <img className=\"loader\" src={Loader}/>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default Home;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}